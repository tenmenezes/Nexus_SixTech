<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  <!-- tabulator CSS -->
  <link href="https://unpkg.com/tabulator-tables@5.6.0/dist/css/tabulator.min.css" rel="stylesheet">

  <!-- Font Awesome CDN - CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <link rel="stylesheet" href="../css/master.css" />
  <link rel="stylesheet" href="../css/users.css">

  <title>Users | Report</title>
</head>

<body>
  </head>
  <body>
    <header>
    <div class="info-header">
      <div class="logo">
        <h3 class="glitch" data-text="NS">NS</h3>
      </div>
      <div class="icons-header">
        <i class="fa-solid fa-expand"></i>
      </div>
    </div>
    <div style="align-items: center" class="info-header">
      <i class="fa-solid fa-bell not"></i>
      <i class="fa-solid fa-envelope mail"></i>
    </div>

    <!-- Botão hambúrguer (visível apenas no mobile) -->
    <button class="hamburger" id="hamburger">
      <i class="fa-solid fa-bars"></i>
    </button>
  </header>

  <!--FIM HEADER-->

  <section class="main">
    <div class="sidebar">
      <h3>Navegação</h3>
      <a class="sidebar-active" href="../master.html"><i class="fa-solid fa-chart-simple icon-dash"></i> Dashboard</a>
      <br />
      <hr />

      <h3>Relatórios</h3>
      <a href="../reports/userReports.html"><i class="fas fa-users"></i> Usuários</a>
      <a href="../reports/productReports.html"><i class="fas fa-clipboard-list"></i> Produtos</a>
      <a href="../reports/salesReports.html"><i class="fas fa-chart-bar"></i> Vendas</a>
      <a href="../reports/orders.html"><i class="fas fa-shopping-cart"></i> Pedidos</a>
      <br />
      <hr />

      <h3>Sistema</h3>
      <a href="logs.html"><i class="fas fa-list-alt"></i> Logs do Sistema</a>
      <br />
      <hr />

      <h3>Feedback</h3>
      <a href="../feedback/faq.html"><i class="fas fa-info-circle"></i> FAQ</a>
      <br />
      <hr />

      <h3>Documentação</h3>
      <a href="../documentation/help.html"><i class="fas fa-book"></i> Ajuda</a>
      <a href="../documentation/about.html"><i class="fa-solid fa-circle-exclamation"></i> Sobre</a>
      <br />
      <hr />

      <h3>Logout</h3>
      <a href="../../php/logout.php"><i class="fa-solid fa-right-from-bracket"></i> Logout</a>
    </div>
    <!--FIM SIDEBAR-->

    <div class="content">
      <div class="titulo-secao">
          <h2>Logs do Sistema</h2> <br/> <hr/>
          <div class="opc">
            <p><i class="fas fa-users"></i> / Logs do Sistema</p>

            
          </div>
        </div>
        ' <div id="user-table" class="tableUser"></div>
      </div>
      





    <script src="https://unpkg.com/tabulator-tables@5.6.0/dist/js/tabulator.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js" crossorigin="anonymous"
      referrerpolicy="no-referrer"></script>

    <!-- Scripts -->
    <script src="../js/sidebar.js"></script>
    <script src="../js/transition.js"></script>
    <script src="../js/users.js"></script>

    <script>
      // Fetch endpoint com o tabulador
      fetch('../../php/logs_data.php')
        .then(function (res) {
          if (!res.ok) throw new Error('Não foi possível conectar com o servidor');
          return res.json();
        })
        .then(function (data) {
          new Tabulator('#user-table', {
            data: data,
            layout: 'fitColumns',
            columns: [
            /*  { title: 'ID', field: 'id', width: 300 },
              { title: 'ID do usuário', field: 'user_id', width: 300 },*/ //REMOVIDO POR ENQUANTO, qualquer coisa só exibir
              { title: 'Hora da entrada', field: 'entry_time', width: 450 },
              { title: 'Hora da saída', field: 'exit_time', width: 450 },
              { title: 'Nome do user', field: 'full_name', width: 450 }
            ]
          });
        })
        .catch(function (err) {
          var container = document.getElementById('user-table');
          container.innerText = 'Erro ao carregar logs: ' + err.message;
        });
    </script>

</body>

</html>