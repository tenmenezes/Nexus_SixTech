<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/master.css" />

    <style>
      /* Controle de visibilidade das seções SPA */
      .content-section {
        display: block;
        width: 100%;
        min-height: calc(100vh - 60px);
        padding: 20px;
        position: absolute;
        top: 0;
        left: 0;
      }

      .content-section.hidden {
        display: none !important;
      }

      .content-section.active-section {
        display: block !important;
      }
    </style>

    <!-- Font Awesome CDN - CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <link rel="shortcut icon" href="../utils/master.png" type="image/x-icon" />

    <title>Tela do administrador</title>
  </head>
  <body>
    <header>
      <div class="info-header">
        <div class="logo">
          <h3 class="glitch" data-text="NS">NS</h3>
        </div>
        <div class="icons-header">
          <i class="fa-solid fa-expand"></i>
        </div>
      </div>

      <!-- Botão hambúrguer (visível apenas no mobile) -->
      <button class="hamburger" id="hamburger">
        <i class="fa-solid fa-bars"></i>
      </button>
    </header>

    <!--FIM HEADER-->

    <section class="main">
      <div class="sidebar">
        <h3>Navegação</h3>

        <a href="#users"><i class="fas fa-users"></i> Usuários</a>
        <a href="#games"><i class="fas fa-clipboard-list"></i> Jogos</a>
        <a href="#orders"><i class="fas fa-chart-bar"></i> Vendas</a>
        <a href="#session_logs"
          ><i class="fas fa-list-alt"></i> Logs do Sistema</a
        >
        <div class="logout">
          <a href="../php/logout.php"
            ><i class="fa-solid fa-right-from-bracket"></i> Logout</a
          >
        </div>
      </div>

      <!--FIM SIDEBAR-->

      <div class="content">
        <input id="tableName" type="hidden" value="users" />

        <!-- INÍCIO DA SEÇÃO DE USUÁRIO -->
        <section class="content-section active-section" id="users">
          <div class="content">
            <div class="titulo-secao">
              <h2>Gestão de Usuários</h2>
              <br />
              <hr />
              <div class="header-row">
                <div class="opc">
                  <p>
                    <i class="fas fa-clipboard-list"></i> / Gestão de Usuários
                  </p>
                </div>
                <div class="search-container">
                  <input
                    type="text"
                    placeholder="Pesquisar usuários..."
                    id="search_nome"
                    name="search_nome"
                  />
                  <button
                    class="btn-icon"
                    title="pesquisar"
                    onclick="searchTable()"
                  >
                    <i class="fa-solid fa-magnifying-glass"></i>
                  </button>
                </div>
              </div>
            </div>
            <br />
            <br />

            <div class="table-wrapper">
              <table class="tabela" id="dataTable-users"></table>
            </div>

            <!-- Modal de edição de usuário -->
            <div
              id="editUserModal"
              class="modal-container"
              role="dialog"
              aria-labelledby="editUserTitle"
              style="display: none"
            >
              <div class="modal-background"></div>

              <div class="modal modal-edit">
                <h1 id="editUserTitle" class="faUser">
                  <i class="fas fa-user-pen" aria-hidden="true"></i>
                  Edição de usuário
                </h1>
                <!-- COLOCAR O FORMULÁRIO AQUI -->

                <div id="formContainer-users">
                  <h3 id="formTitle-users">Editar Registo</h3>
                  <form id="dataForm-users">
                    <div id="formFields-users"></div>
                    <button type="submit">Salvar</button>
                    <button type="button" onclick="cancelEdit()">
                      Cancelar
                    </button>
                  </form>
                </div>
              </div>
            </div>
            <!-- Fim Modal de edição de usuário -->

            <!--Início confirmação de edição -->

            <div
              id="successModal"
              class="modal-container"
              style="display: none"
            >
              <div class="modal-background"></div>

              <div class="modal success-modal">
                <div class="modal-header">
                  <h2 class="success-title">Atenção</h2>
                </div>

                <hr />

                <div class="modal-body">
                  <p id="successMessage">
                    A operação foi realizada com sucesso!
                  </p>
                </div>

                <hr />

                <div class="modal-footer">
                  <button id="successOkBtn" class="confirm">OK</button>
                </div>
              </div>
            </div>

            <!--fim confirmação de edição -->

            <!-- Início Modal de exclusão de usuário -->

            <div
              id="deleteUserModal"
              class="modal-container"
              style="display: none"
            >
              <div class="modal-background"></div>

              <div class="modal delete-modal">
                <div class="modal-header">
                  <h2>Atenção!</h2>
                  <span class="close">&times;</span>
                </div>

                <hr />

                <div class="modal-body">
                  <p>
                    Você está prestes a excluir este usuário. <br />
                    Esta ação
                    <strong style="color: red">NÃO PODE SER DESFEITA.</strong>.
                  </p>

                  <p>Deseja continuar?</p>
                </div>

                <hr />

                <div class="modal-footer">
                  <button class="cancel">Cancel</button>
                  <button class="confirm">Confirm</button>
                </div>
              </div>
            </div>
            <!-- Fim Modal de exclusão de usuário -->
          </div>
        </section>
        <!-- FIM DA SEÇÃO DE USUÁRIO -->

        <!-- INÍCIO DA SEÇÃO DE JOGOS -->
        <section class="content-section hidden" id="games">
          <div class="content">
            <div class="titulo-secao">
              <h2>Gestão de Jogos</h2>
              <br />
              <hr />
              <div class="opc">
                <p><i class="fas fa-clipboard-list"></i> / Gestão de Jogos</p>
              </div>
            </div>
            <br />
            <br />

            <div class="table-wrapper">
              <table class="tabela" id="dataTable-games"></table>
            </div>

            <!-- <div id="formContainer-games" style="display: none">
              <h3 id="formTitle-games">Adicionar Registo</h3>
              <form id="dataForm-games">
                <div id="formFields-games"></div>
                <button type="submit">Salvar</button>
                <button type="button" onclick="cancelEdit()">Cancelar</button>
              </form>
            </div> -->
          </div>
        </section>
        <!-- FIM DA SEÇÃO DE JOGOS -->

        <!-- INÍCIO DA SEÇÃO DE VENDAS -->
        <section class="content-section hidden" id="orders">
          <div class="content">
            <div class="titulo-secao">
              <h2>Gestão de Vendas</h2>
              <br />
              <hr />
              <div class="opc">
                <p><i class="fas fa-clipboard-list"></i> / Gestão de Vendas</p>
              </div>
            </div>
            <br />
            <br />

            <div class="table-wrapper">
              <table class="tabela" id="dataTable-orders"></table>
            </div>
          </div>
        </section>
        <!-- FIM DA SEÇÃO DE VENDAS -->

        <!-- INÍCIO DA SEÇÃO DE LOGS -->
        <section class="content-section hidden" id="session_logs">
          <div class="content">
            <div class="titulo-secao">
              <h2>Logs do Sistema</h2>
              <br />
              <hr />
              <div class="opc">
                <p><i class="fas fa-clipboard-list"></i> / Logs do Sistema</p>
              </div>
            </div>
            <br />
            <br />

            <div class="table-wrapper">
              <table class="tabela" id="dataTable-session_logs"></table>
            </div>
          </div>
        </section>
        <!-- FIM DA SEÇÃO DE LOGS -->
      </div>
      <!--FIM CONTENT-->
    </section>
    <!--FIM MAIN-->

    <!-- JS Files -->
    <script src="./js/crud.js"></script>
    <script src="./js/sidebar.js"></script>
    <script src="./js/master_copy.js"></script>
  </body>
</html>
